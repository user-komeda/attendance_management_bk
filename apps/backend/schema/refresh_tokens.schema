# frozen_string_literal: true

# -*- mode: ruby -*-
# vi: set ft=ruby :

create_table :refresh_tokens do |t|
  t.references :user, type: :uuid, null: false, foreign_key: true

  t.string   :token_hash, null: false
  t.datetime :expires_at, null: false
  t.boolean  :revoked,    null: false, default: false

  t.timestamps
end

add_index :refresh_tokens, :token_hash, unique: true
