openapi: 3.0.1
info:
  title: Attendance Management API
  description: |
    この API はユーザーの作成・取得・更新・削除といった
    基本的なユーザー管理の機能を提供するためのエンドポイントをまとめたものです。
    認証については User リソースの操作を前提として実装してください。
  version: "1.0.0"

servers:
  - url: http://localhost:4567
    description: 開発用ローカル（Sinatra 直接）
  - url: http://localhost:8080/users
    description: 逆プロキシ配下（Location ヘッダの例に一致）

tags:
  - name: user
    description: ユーザーに関する操作
  - name: auth
    description: 認証に関する操作（サインアップ/サインイン）
  - name: workspace
    description: ワークスペースに関する操作

paths:
  "/users":
    $ref: './paths/users.yaml'

  "/signup":
    $ref: './paths/signup.yaml'

  "/signin":
    $ref: './paths/signin.yaml'

  "/work_spaces":
    $ref: './paths/work_spaces.yaml'

  "/work_spaces/{id}":
    $ref: './paths/work_space_id.yaml'

  "/users/{id}":
    $ref: './paths/id.yaml'

components:
  schemas:
    User:
      $ref: './components/schemas/User.yaml'
    CreateUserRequest:
      $ref: './components/schemas/CreateUserRequest.yaml'
    UpdateUserRequest:
      $ref: './components/schemas/UpdateUserRequest.yaml'
    WorkSpace:
      $ref: './components/schemas/WorkSpace.yaml'
    WorkSpaceWithStatus:
      $ref: './components/schemas/WorkSpaceWithStatus.yaml'
    WorkSpaceWithMemberShips:
      $ref: './components/schemas/WorkSpaceWithMemberShips.yaml'
    MemberShips:
      $ref: './components/schemas/MemberShips.yaml'
    CreateWorkSpaceRequest:
      $ref: './components/schemas/CreateWorkSpaceRequest.yaml'
    UpdateWorkSpaceRequest:
      $ref: './components/schemas/UpdateWorkSpaceRequest.yaml'
    Error:
      $ref: './components/schemas/Error.yaml'
  parameters:
    UserId:
      $ref: './components/parameters/UserId.yaml'
